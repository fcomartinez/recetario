import LS from"./classes/localStorage.js";import Toast from"./classes/toast.js";const ls=new LS,toast=new Toast;export function mostrarPlatilloRandom(){$.ajax({url:"https://www.themealdb.com/api/json/v1/1/random.php"}).done(t=>{const{idMeal:a,strMeal:o,strMealThumb:e}=t.meals[0];$("#platillo-random").append($("<div>").addClass("card").append($("<img>").attr({src:e,alt:"Imagen "+o}),$("<div>").addClass("card-body").append($("<h5>").addClass("card-title").text(o),$("<p>").text("Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus cum dolor inventore quo autem amet dolore suscipit doloremque consequatur laborum iusto."),$("<a>").attr("href","#").addClass(["btn","btn-lg","btn-dark","d-block"]).text("Ver receta").on("click",t=>{t.preventDefault(),mostrarPlatillo(a)}))))})}export function mostrarPlatillo(t){$.ajax({url:"https://themealdb.com/api/json/v1/1/lookup.php?i="+t}).done(t=>{const{idMeal:a,strInstructions:o,strMeal:e,strMealThumb:l}=t.meals[0];$(".modal-title").empty(),$(".modal-title").append(e),$(".modal-body").empty(),$(".modal-body").append($("<img>").attr({src:l,alt:"Imagen "+e}).addClass("img-fluid"),$("<h3>").addClass("my-3").text("Instrucciones"),$("<p>").text(o),$("<h3>").addClass("my-3").text("Ingredientes y Cantidades"),$("<ul>").addClass("list-group"));for(let a=1;a<=20;a++)if(t.meals[0]["strIngredient"+a]){const o=t.meals[0]["strIngredient"+a],e=t.meals[0]["strMeasure"+a];$(".list-group").append($("<li>").addClass("list-group-item").text(`${o} - ${e}`))}$(".modal-footer").empty(),ls.consultarStorage(a)?$(".modal-footer").append($("<button>").addClass(["btn","btn-dark","col"]).text("Eliminar").on("click",()=>{ls.eliminarFavorito(a),$("#modal").modal("hide"),toast.mostrarNotificacion("Se eliminó platillo de su lista de favoritos."),$("#favoritos").empty(),obtenerFavoritos()})):$(".modal-footer").append($("<button>").addClass(["btn","btn-dark","col"]).text("Guardar").on("click",()=>{ls.guardarFavorito({id:a,titulo:e,img:l}),$("#modal").modal("hide"),toast.mostrarNotificacion("Se guardó platillo en su lista de favoritos.")})),$(".modal-footer").append($("<button>").addClass(["btn","btn-secondary","col"]).text("Cerrar").on("click",()=>{$("#modal").modal("hide")})),$("#modal").modal("show")})}export function obtenerFavoritos(){const t=JSON.parse(localStorage.getItem("favoritos"))??[];t.length?t.forEach(t=>{$("#favoritos").append($("<div>").addClass(["col-12","col-md-6","col-lg-4"]).append($("<div>").addClass("card").append($("<img>").attr({src:t.img,alt:"Imagen "+t.titulo}).addClass("card-img-top"),$("<div>").addClass("card-body").append($("<h5>").addClass(["card-title","text-black"]).text(t.titulo),$("<a>").attr("href","#").addClass(["btn","btn-lg","btn-dark","d-block"]).text("Ver Receta").on("click",a=>{a.preventDefault(),mostrarPlatillo(t.id)})))))}):$("#favoritos").append($("<h2>").addClass(["text-center","text-uppercase","py-5"]).text("No hay favoritos"),$("<p>").addClass(["text-center","pb-5"]).text("Ir a Inicio o Recetas para empezar tu nueva lista."))}
//# sourceMappingURL=funciones.js.map
