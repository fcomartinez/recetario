{"version":3,"sources":["funciones.js"],"names":["LS","Toast","ls","toast","mostrarPlatilloRandom","$","ajax","url","done","platillo","idMeal","strMeal","strMealThumb","meals","append","addClass","attr","src","alt","text","on","e","preventDefault","mostrarPlatillo","id","strInstructions","empty","i","ingrediente","cantidad","consultarStorage","eliminarFavorito","modal","mostrarNotificacion","obtenerFavoritos","guardarFavorito","titulo","img","favoritos","JSON","parse","localStorage","getItem","length","forEach","favorito"],"mappings":"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","file":"funciones.js","sourcesContent":["import LS from \"./classes/localStorage.js\";\r\nimport Toast from \"./classes/toast.js\";\r\n\r\nconst ls = new LS();\r\nconst toast = new Toast();\r\n\r\nexport function mostrarPlatilloRandom() {\r\n    $.ajax({\r\n        url: \"https://www.themealdb.com/api/json/v1/1/random.php\"\r\n    }).done( platillo => {\r\n        const { idMeal, strMeal, strMealThumb } = platillo.meals[0];\r\n        const lorem = 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus cum dolor inventore quo autem amet dolore suscipit doloremque consequatur laborum iusto.';\r\n\r\n        $('#platillo-random').append(\r\n            $('<div>').addClass('card').append(\r\n                $('<img>').attr({\r\n                    src: strMealThumb,\r\n                    alt: `Imagen ${strMeal}`\r\n                }),\r\n                $('<div>').addClass('card-body').append(\r\n                    $('<h5>').addClass('card-title').text(strMeal),\r\n                    $('<p>').text(lorem),\r\n                    $('<a>').attr('href','#').addClass(['btn', 'btn-lg', 'btn-dark', 'd-block']).text('Ver receta').on('click', e => {\r\n                        e.preventDefault();\r\n                        mostrarPlatillo(idMeal);\r\n                    })\r\n                )\r\n            )\r\n        )\r\n    });\r\n}\r\n\r\nexport function mostrarPlatillo(id) {\r\n    $.ajax({\r\n        url: `https://themealdb.com/api/json/v1/1/lookup.php?i=${id}`\r\n    }).done( platillo => {\r\n        const { idMeal, strInstructions, strMeal, strMealThumb } = platillo.meals[0];\r\n\r\n        $('.modal-title').empty();\r\n        $('.modal-title').append(strMeal);\r\n\r\n        $('.modal-body').empty();\r\n        $('.modal-body').append(\r\n            $('<img>').attr({\r\n                src: strMealThumb,\r\n                alt: `Imagen ${strMeal}`\r\n            }).addClass('img-fluid'),\r\n            $('<h3>').addClass('my-3').text('Instrucciones'),\r\n            $('<p>').text(strInstructions),\r\n            $('<h3>').addClass('my-3').text('Ingredientes y Cantidades'),\r\n            $('<ul>').addClass('list-group')\r\n        )\r\n        for(let i = 1; i <= 20; i++) {\r\n            if(platillo.meals[0][`strIngredient${i}`]) {\r\n                const ingrediente = platillo.meals[0][`strIngredient${i}`];\r\n                const cantidad = platillo.meals[0][`strMeasure${i}`];\r\n\r\n                $('.list-group').append(\r\n                    $('<li>').addClass('list-group-item').text(`${ingrediente} - ${cantidad}`)\r\n                )\r\n            }\r\n        }\r\n\r\n        $('.modal-footer').empty();\r\n\r\n        if(ls.consultarStorage(idMeal)){     \r\n            $('.modal-footer').append(\r\n                $('<button>').addClass(['btn', 'btn-dark', 'col']).text('Eliminar').on('click', () => {\r\n                    ls.eliminarFavorito(idMeal);\r\n                    $('#modal').modal('hide');\r\n                    toast.mostrarNotificacion('Se eliminó platillo de su lista de favoritos.');\r\n                    $('#favoritos').empty();\r\n                    obtenerFavoritos();\r\n                })\r\n            )\r\n        } else {\r\n            $('.modal-footer').append(\r\n                $('<button>').addClass(['btn', 'btn-dark', 'col']).text('Guardar').on('click', () => {\r\n                    ls.guardarFavorito({id: idMeal, titulo: strMeal, img: strMealThumb});\r\n                    $('#modal').modal('hide');\r\n                    toast.mostrarNotificacion('Se guardó platillo en su lista de favoritos.');\r\n                })\r\n            )\r\n        }\r\n\r\n        $('.modal-footer').append(\r\n            $('<button>').addClass(['btn', 'btn-secondary', 'col']).text('Cerrar').on('click', () => {\r\n                $('#modal').modal('hide');\r\n            })\r\n        );\r\n\r\n        $('#modal').modal('show');\r\n    });\r\n}\r\n\r\nexport function obtenerFavoritos() {\r\n    const favoritos = JSON.parse(localStorage.getItem('favoritos')) ?? [];\r\n\r\n    if(favoritos.length) {\r\n        favoritos.forEach( favorito => {\r\n            $('#favoritos').append(\r\n                $('<div>').addClass(['col-12', 'col-md-6', 'col-lg-4']).append(\r\n                    $('<div>').addClass('card').append(\r\n                        $('<img>').attr({\r\n                            src: favorito.img,\r\n                            alt: `Imagen ${favorito.titulo}`\r\n                        }).addClass('card-img-top'),\r\n                        $('<div>').addClass('card-body').append(\r\n                            $('<h5>').addClass(['card-title', 'text-black']).text(favorito.titulo),\r\n                            $('<a>').attr('href','#').addClass(['btn', 'btn-lg', 'btn-dark', 'd-block']).text('Ver Receta').on('click', e => {\r\n                                e.preventDefault();\r\n                                mostrarPlatillo(favorito.id);\r\n                            })\r\n                        )\r\n                    )\r\n                )\r\n            );\r\n        })\r\n        return;\r\n    }\r\n\r\n    $('#favoritos').append(\r\n        $('<h2>').addClass(['text-center', 'text-uppercase', 'py-5']).text('No hay favoritos'),\r\n        $('<p>').addClass(['text-center', 'pb-5']).text('Ir a Inicio o Recetas para empezar tu nueva lista.')\r\n    );\r\n}"]}